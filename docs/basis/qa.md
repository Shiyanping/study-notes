# JavaScript & QA 测试

测试方法有很多种，测试方面也有很多，主要的测试包括：单元测试，性能测试，功能测试，安全测试。

当前测试工程师分为：黑盒和白盒。

测试主要还是让代码在线上运行更加健壮，当代码在线上跑的时候让开发 QA 放心。

## 1. 单元测试

### 1.1 单元测试的原理

对自己输出的东西进行测试，一般不需要 QA 工程师接入，程序员通过自己的测试脚本去完成单元测试，让自己输出的东西值得别人信赖。

目的：
能让开发者明确知道代码的结果。

原则：
单一职责，接口抽象，层次分离。（能抽离的抽离，管好自己的代码。每一个函数尽量少的代码，从一个个小功能开始抽离，将不同的小功能分离成不同的函数。）

断言库：
保证最小单元是否正常运行的检测方法。

测试风格：
测试驱动开发（TDD），行为驱动开发（BDD），均是敏捷开发的方法论。

> 敏捷开发：简单的来说其实就是 todo，doing，done

TDD：关注所有的功能是否都实现，每个功能必须都有测试用例。
断言库：`better-assert`

BDD：关注整体行为是否符合整体预期，编写的每一行代码都有目的的提供一个完整的测试用例。
断言库：`should.js`，`expect.js`，`Jasmine`（14.1Kstar）

TBB 和 BDD 结合的双模断言库：`chai.js`

**断言库的生命周期：**

before -> beforeEach -> 代码块 （it）-> after -> afterEach

### 1.2 单元测试的工具

karma：自动化 runner 集成 PhantomJS 无刷新

e2e

nightwatch.js

jest.js

rize

f2etest

### 1.3 UI 自动化测试

backstop，phantomCSS

### 1.4 测试后端接口

mocha

## 2. 性能测试

一般也是工程师自己去测试，QA 工程师一般不会介入。尤其是在写`node.js`时，性能测试就很重要了。

## 3. 安全测试

网页上的`CSRF`，`XSS`攻击。

## 4. 功能测试

一个功能搞定之后，要有测试的 case，也叫测试用例，根据测试用例完成功能测试。
