(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{70:function(e,t,n){"use strict";n.r(t);var r=n(0),l=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"mvc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mvc","aria-hidden":"true"}},[e._v("#")]),e._v(" MVC")]),n("h2",{attrs:{id:"_1-概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-概述","aria-hidden":"true"}},[e._v("#")]),e._v(" 1. 概述")]),n("p",[e._v("model：数据模型\nview：视图\ncontroller：控制器")]),n("p",[n("img",{attrs:{src:"http://cdn.jinyueyue.cn/15481469949120.jpg",alt:""}})]),n("p",[e._v("MVC 是一种模式，但是并不是设计模式，而是架构模式。")]),n("p",[e._v("优点：")]),n("ol",[n("li",[e._v("更适合多人开发")]),n("li",[e._v("并且可以提高代码的可维护性")])]),n("p",[e._v("缺点：")]),n("ol",[n("li",[e._v("增加了系统的复杂性")])]),n("h2",{attrs:{id:"_2-mvc-工作流程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-mvc-工作流程","aria-hidden":"true"}},[e._v("#")]),e._v(" 2. MVC 工作流程")]),n("p",[e._v("一个典型的 MVC 工作流程主要是以下几点：")]),n("ul",[n("li",[e._v("Controller 截获⽤用户发出的请求 （页面路由）")]),n("li",[e._v("Controller 调⽤ Model 完成状态的读写操作，Model 将数据库中读取到的数据打包传给 Controller")]),n("li",[e._v("Controller 把数据传递给 View")]),n("li",[e._v("View 将最终结果渲染并呈献给用户（可能在浏览器渲染，也有可能在服务器中渲染）")])]),n("p",[e._v("如图：")]),n("p",[n("img",{attrs:{src:"http://cdn.jinyueyue.cn/15480568260387.jpg",alt:""}})]),n("p",[e._v("Model 只和 Controller 交互，Controller 负责控制用户行为和 View 进行交互。")]),n("h2",{attrs:{id:"目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#目录结构","aria-hidden":"true"}},[e._v("#")]),e._v(" 目录结构")]),n("p",[e._v("assets：静态资源\nconfig：配置文件\ncontrollers：路由\nmodels：请求\nmiddleware：中间件\ntests：单元测试\nviews：页面级别的组件\nweb：前端项目\ncomponents：小组件\nbin：启动文件")]),n("p",[e._v("错误日志分析：")]),n("ul",[n("li",[e._v("log4")]),n("li",[e._v('app.on("error")')]),n("li",[e._v("process.on")])]),n("p",[e._v("要注意 models 的错误容错，因为 node 做中间件，不能将问题出在和后端的交互上，否则整个系统就挂了。")]),n("p",[e._v("前端进程，后端进程")]),n("p",[e._v("npm run env：查看当前环境配置")]),n("p",[e._v("前端路由是假路由，如果访问前端项目和 node 项目在一起，那么访问前端路由会默认跳转到 node 的路由中，这时候我们就会用到 "),n("code",[e._v("koa2-connect-history-api-fallback")]),e._v(" 这个依赖包，将路由打回到前端，让前端自己处理路由，这个依赖包也可以配置白名单，将我们后端吐出数据的路由，也就是前端访问的路由配置到白名单中，这样就不会出现误将后端路由打回前端，让前端处理，前端也没有的尴尬了。")]),n("p",[e._v("SSP MPA SPA 预渲染")]),n("p",[e._v("system.js 万能模块加载器")]),n("p",[e._v("节流和防抖")])])}],!1,null,null,null);t.default=l.exports}}]);