(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{50:function(t,s,a){t.exports=a.p+"assets/img/QA.9868de8d.png"},74:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"javascript-qa-测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript-qa-测试","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript & QA 测试")]),n("p",[n("img",{attrs:{src:a(50),alt:""}})]),n("p",[t._v("测试方法有很多种，测试方面也有很多，主要的测试包括：单元测试，性能测试，功能测试，安全测试。")]),n("p",[t._v("当前测试工程师分为：黑盒和白盒。")]),n("p",[t._v("测试主要还是让代码在线上运行更加健壮，当代码在线上跑的时候让开发 QA 放心。")]),n("h2",{attrs:{id:"_1-单元测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-单元测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 单元测试")]),n("h3",{attrs:{id:"_1-1-单元测试原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-单元测试原理","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.1 单元测试原理")]),n("p",[t._v("对自己输出的东西进行测试，一般不需要 QA 工程师接入，程序员通过自己的测试脚本去完成单元测试，让自己输出的东西值得别人信赖。")]),n("p",[t._v("目的：\n能让开发者明确知道代码的结果。")]),n("p",[t._v("原则：\n单一职责，接口抽象，层次分离。（能抽离的抽离，管好自己的代码。每一个函数尽量少的代码，从一个个小功能开始抽离，将不同的小功能分离成不同的函数。）")]),n("p",[t._v("断言库：\n保证最小单元是否正常运行的检测方法。")]),n("p",[t._v("测试风格：\n测试驱动开发（TDD），行为驱动开发（BDD），均是敏捷开发的方法论。")]),n("blockquote",[n("p",[t._v("敏捷开发：简单的来说其实就是 todo，doing，done")])]),n("p",[t._v("TDD：关注所有的功能是否都实现，每个功能必须都有测试用例。\n断言库："),n("code",[t._v("better-assert")])]),n("p",[t._v("BDD：关注整体行为是否符合整体预期，编写的每一行代码都有目的的提供一个完整的测试用例。\n断言库："),n("code",[t._v("should.js")]),t._v("，"),n("code",[t._v("expect.js")]),t._v("，"),n("code",[t._v("Jasmine")]),t._v("（14.1Kstar）")]),n("p",[t._v("TBB 和 BDD 结合的双模断言库："),n("code",[t._v("chai.js")])]),n("p",[n("strong",[t._v("断言库的生命周期：")])]),n("p",[t._v("before -> beforeEach -> 代码块 （it）-> after -> afterEach")]),n("h3",{attrs:{id:"_1-2-单元测试工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-单元测试工具","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2 单元测试工具")]),n("h4",{attrs:{id:"_1-2-1-karma"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-karma","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2.1 "),n("a",{attrs:{href:"https://karma-runner.github.io/3.0/intro/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("karma")])]),n("p",[t._v("karma 是一个单元测试执行过程管理工具，主要是对 JS 进行单元测试，用到的断言库是"),n("code",[t._v("jasmine")]),t._v("，运行环境有很多选择，可以基于"),n("code",[t._v("chrome")]),t._v("或者无头浏览器"),n("code",[t._v("phantomjs")]),t._v("去做 js 自动化单元测试，运行环境可以在初始化"),n("code",[t._v("karma")]),t._v("的时候选择。")]),n("ul",[n("li",[t._v("安装")])]),n("p",[t._v("安装"),n("code",[t._v("karma")]),t._v("可以直接去"),n("a",{attrs:{href:"https://karma-runner.github.io/3.0/intro/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("karma 官网")]),t._v("，按照教程安装即可。")]),n("p",[t._v("官网指示的教程是安装"),n("code",[t._v("chrome")]),t._v("去运行测试脚本，当我们使用"),n("code",[t._v("phantomjs")]),t._v("用作运行环境时，必须要安装"),n("code",[t._v("phantomjs")]),t._v("指定的依赖包。")]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install phantom karma-phantomjs-launcher --save-dev\n")])]),n("ul",[n("li",[t._v("初始化")])]),n("p",[t._v("初始化："),n("code",[t._v("karma init")]),t._v("，执行初始化命令之后，会有一系列的提示选择，根据自己的喜好，选择即可，上面说的选择操作系统，就在其中。")]),n("p",[t._v("在最后都选择完之后会生成一个"),n("code",[t._v("karma.conf.js")]),t._v("，里面是"),n("code",[t._v("karma")]),t._v("的一些配置，包括需要测试的文件"),n("code",[t._v("files")]),t._v("下，还有生成测试报表的目录"),n("code",[t._v("coverageReporter")]),t._v("（需要）。")]),n("ul",[n("li",[t._v("编写测试脚本")])]),n("p",[t._v("初始化完成之后，我们就要编写测试脚本了，要在相应的目录下编写"),n("code",[t._v("*.spec.js")]),t._v("结尾的文件，一般的脚本命令都是以"),n("code",[t._v("*.spec.js")]),t._v("结尾。")]),n("p",[n("strong",[t._v("例：")])]),n("p",[t._v("我们的开发代码：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("window"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a "),n("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" a "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token function-variable function"}},[t._v("test")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" str"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("split")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("''")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("p",[t._v("我们的测试脚本：")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("describe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'测试基本函数的API'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("it")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'+1函数应用'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("expect")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("add")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("toBe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("expect")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("add")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("2")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("toBe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("3")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("it")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'测试字符串切割'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("expect")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("test")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'123'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("toEqual")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token string"}},[t._v("'1'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'2'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'3'")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),n("p",[t._v("我们如果使用了"),n("code",[t._v("phantomjs")]),t._v("用作运行环境的话，可能会因为"),n("code",[t._v("phantomjs")]),t._v("版本太老，不支持 ES6 语法，所以我们尽量使用 ES5 去编写测试脚本。")])]),n("ul",[n("li",[t._v("运行脚本")])]),n("p",[t._v("在命令行中使用"),n("code",[t._v("karma start")]),t._v("即可跑 karma 的测试脚本。")]),n("ul",[n("li",[t._v("生成测试报表")])]),n("p",[t._v("我们测试完成之后可以通过生成报表去观察测试的情况，这个时候就要使用到 "),n("a",{attrs:{href:"https://www.npmjs.com/package/karma-coverage",target:"_blank",rel:"noopener noreferrer"}},[t._v("karma-coverage")]),t._v(" 了，按照"),n("code",[t._v("npm")]),t._v("上的指导进行安装即可。")]),n("h4",{attrs:{id:"_1-2-2-selenium-webdriver"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-selenium-webdriver","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2.2 selenium-webdriver")]),n("p",[t._v("主要用作页面测试，需要安装 "),n("a",{attrs:{href:"https://www.npmjs.com/package/selenium-webdriver",target:"_blank",rel:"noopener noreferrer"}},[t._v("selenium-webdriver")]),t._v(" 依赖包。")]),n("ul",[n("li",[t._v("安装")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" selenium-webdriver\n")])]),n("p",[t._v("在安装了"),n("code",[t._v("selenium-webdriver")]),t._v("依赖包之后，还需要下载对应浏览器的依赖程序，如果要使用"),n("code",[t._v("Chrome")]),t._v("测试，那就下载"),n("code",[t._v("Chrome")]),t._v("的包，如果使用"),n("code",[t._v("Firefox")]),t._v("测试，就下载"),n("code",[t._v("Firefox")]),t._v("的包。如下图：")]),n("p",[n("img",{attrs:{src:"http://cdn.jinyueyue.cn/15470193483134.jpg",alt:""}})]),n("ul",[n("li",[t._v("编写测试代码")])]),n("p",[t._v("npm 对应的"),n("code",[t._v("selenium-webdriver")]),t._v("依赖包中，有简单的测试脚本，我们手动创建一个"),n("code",[t._v("*.spec.js")]),t._v("，把测试脚本的代码 copy 进去。")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Builder"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" By"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Key"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" until "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'selenium-webdriver'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("example")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" driver "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Builder")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("forBrowser")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'firefox'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("build")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" driver"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'https://www.baidu.com/'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" driver"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("findElement")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("By"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("id")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'kw'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("sendKeys")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'石燕平'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Key"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token constant"}},[t._v("RETURN")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" driver"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("wait")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("until"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("titleIs")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'石燕平_百度搜索'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1000")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" driver"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("quit")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("ul",[n("li",[t._v("运行脚本")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("node XX/*.spec.js\n")])]),n("p",[t._v("其中 XX 就是"),n("code",[t._v("e2e")]),t._v("测试脚本对应的文件夹目录。")]),n("h4",{attrs:{id:"_1-2-3-rize-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-rize-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2.3 "),n("a",{attrs:{href:"https://rize.js.org/zh-CN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rize.js")])]),n("p",[t._v("rize 的官网有详细的例子和说明，可以上官网具体看一下例子，很容易懂，而且操作起来也很简单。")]),n("ul",[n("li",[t._v("安装")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("yarn add --dev puppeteer rize\n")])]),n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),n("p",[t._v("puppeteer 比较难装，一定要翻墙之后装，要不然会出问题。")])]),n("ul",[n("li",[t._v("编写测试脚本")])]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Rize "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'rize'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rize "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Rize")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" headless"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrize\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("goto")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'https://github.com/'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 访问github")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("type")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'input.header-search-input'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'node'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 在class名为header-search-input的input中输入“node”")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("press")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'Enter'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 回车")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("waitForNavigation")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 等待页面跳转")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// .assertSee('Node.js')")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("saveScreenshot")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'searching-node.png'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 保存截图")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("end")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// 别忘了调用 `end` 方法来退出浏览器！")]),t._v("\n")])]),n("ul",[n("li",[t._v("运行脚本")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("node XX/*.spec.js\n")])]),n("h4",{attrs:{id:"_1-2-4-其他"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-其他","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.2.4 其他")]),n("p",[t._v("其他的单元测试框架还有很多，比如：nightwatch.js，"),n("a",{attrs:{href:"https://jestjs.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jest.js")]),t._v("（react 使用比较多），"),n("a",{attrs:{href:"https://github.com/alibaba/f2etest",target:"_blank",rel:"noopener noreferrer"}},[t._v("f2etest")]),t._v("。")]),n("h3",{attrs:{id:"_1-3-ui-走查"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-ui-走查","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.3 UI 走查")]),n("h4",{attrs:{id:"_1-3-1-backstop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-backstop","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.3.1 "),n("a",{attrs:{href:"https://www.npmjs.com/package/backstopjs",target:"_blank",rel:"noopener noreferrer"}},[t._v("backstop")])]),n("ul",[n("li",[t._v("安装")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" -g backstopjs\n")])]),n("ul",[n("li",[t._v("初始化")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("backstop init\n")])]),n("p",[t._v("初始化之后会生成一些"),n("code",[t._v("backstop")]),t._v("相关的文件，修改"),n("code",[t._v("backstop.json")]),t._v("，进行配置。")]),n("p",[t._v("将 UI 的图片放到"),n("code",[t._v("backstop_data/bitmaps_reference")]),t._v("文件夹下，图片名称的话，可以先跑一下"),n("code",[t._v("backstop test")]),t._v("，会有一个报错，就是报没有指定的图片，将图片名字 copy 一下，在"),n("code",[t._v("backstop_data/bitmaps_reference")]),t._v("下创建一个即可。")]),n("p",[t._v("将自己写的网页链接配置到"),n("code",[t._v("scenarios")]),t._v(" -> "),n("code",[t._v("url")]),t._v("中。")]),n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token property"}},[t._v('"scenarios"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token property"}},[t._v('"label"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"BackstopJS Homepage"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token property"}},[t._v('"cookiePath"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"backstop_data/engine_scripts/cookies.json"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token property"}},[t._v('"url"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"https://map.qq.com/m/"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),n("ul",[n("li",[t._v("测试")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("backstop "),n("span",{attrs:{class:"token function"}},[t._v("test")]),t._v("\n")])]),n("p",[t._v("会自动输出一个报表，放到"),n("code",[t._v("backstop_data/html_report")]),t._v("下，里面有自己写的网页和 UI 图不同的地方。")]),n("h4",{attrs:{id:"_1-3-2-phantomcss"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-phantomcss","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.3.2 "),n("a",{attrs:{href:"https://github.com/HuddleEng/PhantomCSS",target:"_blank",rel:"noopener noreferrer"}},[t._v("phantomCSS")])]),n("p",[t._v("phantomJS 的兄弟，专门用作 UI 走查。")]),n("h3",{attrs:{id:"_1-4-测试后端接口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-测试后端接口","aria-hidden":"true"}},[t._v("#")]),t._v(" 1.4 测试后端接口")]),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/mocha",target:"_blank",rel:"noopener noreferrer"}},[t._v("mocha")]),t._v(" ，主要用于测试后端接口返回的数据结构是否正常。")]),n("ul",[n("li",[t._v("安装")])]),n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("npm install mocha --save-dev\n")])]),n("ul",[n("li",[t._v("编写测试脚本")])]),n("p",[t._v("因为我们是测试后端的接口，所以测试的前提就是一定要有后端的接口，什么接口不限制，只要是 http 接口就行。")]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("// router.spec.js")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" axios "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'axios'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("describe")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'node接口测试'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token function"}},[t._v("it")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'test接口测试'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("done"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    axios"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token keyword"}},[t._v("get")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'http://localhost:3000/test'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("then")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code "),n("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("done")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token function"}},[t._v("done")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Error")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'错误'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("p",[n("code",[t._v("describe")]),t._v("中可以编写很多个 it，需要测试多少接口就编写多少个 it 即可。")]),n("ul",[n("li",[t._v("运行脚本")])]),n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[t._v("mocha router.spec.js\n")])]),n("p",[t._v("这里运行脚本之后，会在小黑框中运行，后续会有返回结果，如果没有报错，就证明接口没问题。如果想生成报表的话，我们就需要借助其他的依赖包了。")]),n("ul",[n("li",[t._v("生成报表")])]),n("p",[t._v("想要生成报表，我们就需要借助 "),n("a",{attrs:{href:"https://www.npmjs.com/package/mochawesome",target:"_blank",rel:"noopener noreferrer"}},[t._v("mochawesome")]),t._v(" 依赖包了，使用方法可以参考"),n("code",[t._v("npm")]),t._v("。创建一个 js，编写下面生成报表的代码。")]),n("p",[n("strong",[t._v("例：")])]),n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Mocha "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'mocha'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" mocha "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Mocha")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  reporter"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'mochawesome'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  reporterOptions"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    reportDir"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'./docs/mochawesome-report'")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmocha"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("addFile")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'./service/router.spec.js'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmocha"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("run")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errLength "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("errLength "),n("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("0")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("exit")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    process"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("exit")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`出错长度：")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("errLength"),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v("`")])]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),n("p",[t._v("当创建好上面的 js 之后，就不能跑"),n("code",[t._v("router.spec.js")]),t._v("了，而是需要跑创建的这个 js，"),n("code",[t._v("node XX.js")]),t._v("。不管测试通过不通过，都会讲报表生成到"),n("code",[t._v("reportDir")]),t._v("指定的目录下。")]),n("h2",{attrs:{id:"_2-性能测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-性能测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 2. 性能测试")]),n("p",[t._v("一般也是工程师自己去测试，QA 工程师一般不会介入。尤其是在写"),n("code",[t._v("node.js")]),t._v("时，性能测试就很重要了。")]),n("h2",{attrs:{id:"_3-安全测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安全测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 3. 安全测试")]),n("p",[t._v("网页上有"),n("code",[t._v("CSRF")]),t._v("，"),n("code",[t._v("XSS")]),t._v("攻击，后端还有"),n("code",[t._v("SQL")]),t._v("攻击。")]),n("h2",{attrs:{id:"_4-功能测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-功能测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 4. 功能测试")]),n("p",[t._v("一个功能搞定之后，要有测试的 case，也叫测试用例，根据测试用例完成功能测试。")])])}],o=a(0),e=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);s.default=e.exports}}]);